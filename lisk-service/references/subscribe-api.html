<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Subscribe API - Lisk  Service  Docs</title>
    <link rel="canonical" href="https://lisk.com/documentation/lisk-service/references/subscribe-api.html">
    <meta name="generator" content="Antora 3.0.0">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/site-extra.css">
      <link rel="stylesheet" href="../../_/css/vendor/docsearch.min.css">
      <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script src="../../_/js/vendor/medium-zoom.min.js"></script>
<link rel="icon" href="../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<script data-cookieconsent="ignore" type="text/javascript" id="GTM">(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({"gtm.start":
          new Date().getTime(),event:"gtm.js"});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!="dataLayer"?"&amp;l="+l:"";j.async=true;
  j.crossOrigin="anonymous";j.src=
          "https://www.googletagmanager.com/gtm.js?id="+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,"script","dataLayer","GTM-NKNKGHL");</script>

<script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>
<header class="header">
  <nav class="navbar">
      <div class="navbar-content">
        <div class="navbar-brand">
          <a href="https://lisk.com/docs" title="Lisk.com/docs" class="lisk-logo"></a>
            <span  class="nav-brand__name-area">
              <strong class="nav-brand__name-area__title">Service</strong>
            </span>
                    <button class="navbar-burger" data-target="topbar-nav">
            <span></span>
            <span></span>
            <span></span>
          </button>
        </div>
        <div id="topbar-nav" class="navbar-menu">
          <div class="navbar-end">
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Documentations</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href="https://lisk.com/documentation/lisk-sdk/">Lisk SDK</a>
                <a class="navbar-item" href="https://lisk.com/documentation/lisk-service/">Lisk Service</a>
                <a class="navbar-item" href="https://lisk.com/documentation/lisk-core/">Lisk Core</a>
              </div>
            </div>
            <div class="navbar-item has-dropdown is-hoverable">
              <a class="navbar-link" href="">Resources</a>
              <div class="navbar-dropdown">
                <a class="navbar-item" href=""><strong>Lisk Service API</strong></a>
                <a class="navbar-item" href="https://lisk.com/documentation/lisk-service/references/api.html">Mainnet</a>
                <a class="navbar-item" href="https://lisk.com/documentation/lisk-service/references/api-testnet.html">Testnet</a>
                <hr class="navbar-divider">
                <a class="navbar-item" href=""><strong>Lisk Network Explorer</strong></a>
                <a class="navbar-item" target="_blank" href="https://lisk.observer/">Lisk Observer<i class="icofont-external-link"></i></a>
                <a class="navbar-item" target="_blank" href="https://liskscan.io/">LISKscan<i class="icofont-external-link"></i></a>
              </div>
            </div>
          </div>
            <div class="navbar-menu search-box hide-for-print">
              <input id="search-input" type="text" placeholder="Search">
            </div>
        </div>
        <div class="navbar-item navbar-right">
<!--
          <a href="https://lisk.chat" title="Lisk Chat" target="_blank" class="footer__icon icon-discord-2x"></a>
-->
          <a href="https://github.com/LiskHQ" title="Lisk GitHub" target="_blank" class="footer__icon icon-github-2x"></a>
          <span class="control">
            <a class="button is-primary" target="_blank" title="Lisk Dev Forum" href="https://dev.lisk.com/">Get help</a>
          </span>
        </div>
      </div>
  </nav>
</header>
<div class="body-container">
  <div class="body">
<div class="nav-container" data-component="lisk-service" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Lisk Service</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Setup</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../setup/docker.html">Installation with Docker</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../setup/source.html">Installation from source code</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Configuration</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../configuration/docker.html">Configuration with Docker</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../configuration/source.html">Configuration with PM2</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Management</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../management/docker.html">Docker commands</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../management/source.html">PM2 commands</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="../management/post-transactions.html">Posting transactions with Lisk Service</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">References</span>
<ul class="nav-list">
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="api.html">HTTP API (Mainnet)</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="api-testnet.html">HTTP API (Testnet)</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="rpc-api.html">WebSocket JSON 2.0 RPC API</a>
  </li>
  <li class="nav-item is-current-page single-page" data-depth="2">
    <a class="nav-link" href="subscribe-api.html">Subscribe API</a>
  </li>
  <li class="nav-item single-page" data-depth="2">
    <a class="nav-link" href="configuration.html">Lisk Service Configuration Reference</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk Service</span>
    <span class="version">0.5.0 (latest)</span>
  </div>
  <ul class="components">
    <li class="component">
      <span class="title">Lisk Core</span>
      <ul class="versions">
        <li class="version">
          <a href="../../lisk-core/index.html">3.0.2 (latest)</a>
        </li>
        <li class="version">
          <a href="../../lisk-core/v2/index.html">2.1.7</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk docs manual</span>
      <ul class="versions">
        <li class="version">
          <a href="../../lisk-docs-manual/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk Documentation</span>
      <ul class="versions">
        <li class="version">
          <a href="../../index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <span class="title">Lisk SDK</span>
      <ul class="versions">
        <li class="version">
          <a href="../../lisk-sdk/index.html">5.2.0 (latest)</a>
        </li>
        <li class="version">
          <a href="../../lisk-sdk/6.0.0/index.html">6.0.0</a>
        </li>
        <li class="version">
          <a href="../../lisk-sdk/v4/index.html">4.0.0</a>
        </li>
        <li class="version">
          <a href="../../lisk-sdk/v3/index.html">3.0.2</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <span class="title">Lisk Service</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="../index.html">0.5.0 (latest)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article main">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" title="Home" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Lisk Service</a></li>
    <li>References</li>
    <li><a href="subscribe-api.html">Subscribe API</a></li>
  </ul>
</nav>
    <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/docs-service/modules/ROOT/pages/references/subscribe-api.adoc"><i class="icofont-ui-edit"></i>Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Subscribe API</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#access-paths-and-compatibility">Access paths and compatibility</a></li>
<li><a href="#endpoint-logic">Endpoint logic</a></li>
<li><a href="#responses">Responses</a></li>
<li><a href="#date-format">Date Format</a></li>
<li><a href="#example-of-a-client-implementation">Example of a client implementation</a></li>
<li><a href="#available-subscriptions">Available subscriptions</a>
<ul class="sectlevel2">
<li><a href="#update-block">update.block</a></li>
<li><a href="#update-round">update.round</a></li>
<li><a href="#update-forgers">update.forgers</a></li>
<li><a href="#update-transactions">update.transactions</a></li>
<li><a href="#update-fee_estimates">update.fee_estimates</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Subscribe API is sometimes called the publish/subscribe or Event-Driven API.
The biggest difference between Event-Driven and regular REST API is not only technical.
In practice, a two-way streaming connection is used, which means that not only can the client request the server for a data update, (and also potential updates) but also the server can notify the client about new data instantly as it arrives.</p>
</div>
<div class="paragraph">
<p>Lisk Service leverages the two-way communication approach by utilizing the WebSocket library responsible for updating users about changes in the blockchain network and markets.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="access-paths-and-compatibility"><a class="anchor" href="#access-paths-and-compatibility"></a>Access paths and compatibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The blockchain update API can be accessed by the following path <code>wss://service.lisk.com/blockchain</code>.</p>
</div>
<div class="paragraph">
<p>If you are interested in accessing the testnet network, this can be accomplished by using the <code>wss://testnet-service.lisk.com/blockchain</code> endpoint.</p>
</div>
<div class="paragraph">
<p>Important: The Lisk Service WebSocket API uses the <code>socket.io</code> library.
This implementation is compatible with the version 2.0 of the socket.io library.
Using the wrong major version might result in a broken connection and messages not being passed.</p>
</div>
<div class="paragraph">
<p>The specification below contains numerous examples how to use the API in practice.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="endpoint-logic"><a class="anchor" href="#endpoint-logic"></a>Endpoint logic</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The logic of the endpoints is derived as follows: the method naming is always based on the following pattern: <code>&lt;action&gt;.&lt;entity&gt;</code>, where the <code>action</code> is equivalent to method type performed on the server (ie. <code>update</code>) and <code>entity</code> is a part of the application logic, ex. <code>accounts</code>, <code>transactions</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="responses"><a class="anchor" href="#responses"></a>Responses</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All responses are returned in the JSON format - <code>application/json</code>.</p>
</div>
<div class="paragraph">
<p>Each API request has the following structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
    "data": {}, // Contains the requested data
    "meta": {
        "count": &lt;integer&gt;, // number of items
        "timestamp": &lt;timestamp&gt;, // timestamp in seconds
        ...               // other metadata
    },
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="date-format"><a class="anchor" href="#date-format"></a>Date Format</h2>
<div class="sectionbody">
<div class="paragraph">
<p>On the contrary to the original Lisk Core API, all timestamps used by the Lisk Service are in the UNIX timestamp format.
The blockchain dates are always expressed as integers and the epoch date is equal to the number of seconds since <code>1970-01-01 00:00:00</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="example-of-a-client-implementation"><a class="anchor" href="#example-of-a-client-implementation"></a>Example of a client implementation</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">Node.js</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">const io = require('socket.io-client');
const connection = io.connect('wss://service.lisk.com/blockchain', { transports: ['websocket'] });
connection.on('update.block', (block) =&gt; { (...) });</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="available-subscriptions"><a class="anchor" href="#available-subscriptions"></a>Available subscriptions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="update-block"><a class="anchor" href="#update-block"></a>update.block</h3>
<div class="paragraph">
<p>Updates about a newly forged block with all its data.</p>
</div>
<div class="listingblock">
<div class="title">Response</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "data": [
    {
      "id": "64829af74cdeaa696e4fdef3d7a498b816c8c2e088ecd6a4b59df1df8370c650",
      "height": 12464,
      "version": 2,
      "timestamp": 1622816707,
      "generatorAddress": "lskq847deet5ohzujm6s5t9adeotvmdo7pq4y36nz",
      "generatorPublicKey": "09bafa700435af1b77ad1743e1e9df4157019dccca2fae0986e8e9431ed3e074",
      "generatorUsername": "genesis_45",
      "transactionRoot": "e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",
      "signature": "db2331a34dc93ca87762732108c67d8fe3bf725cf6f5c73290495d5f3a73a80227df36f291e259b7ae720fc0c7d27a213c5faa7cb5524e2c77ee8881ffdb1309",
      "previousBlockId": "940c71fed31d45e5087ad63d494224d3417e32f44ddef6c182dfd0258994e3ea",
      "numberOfTransactions": 0,
      "totalForged": "500000000",
      "totalBurnt": "0",
      "totalFee": "0",
      "reward": "500000000",
      "isFinal": false,
      "maxHeightPreviouslyForged": 12458,
      "maxHeightPrevoted": 12395,
      "seedReveal": "de2646e55ae279b17980823c8917078d"
    }
  ],
  "meta": {
    "count": 1,
    "offset": 0,
    "total": 12464
  },
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="update-round"><a class="anchor" href="#update-round"></a>update.round</h3>
<div class="paragraph">
<p>Updates about the forging delegates for the next round.</p>
</div>
<div class="listingblock">
<div class="title">Response</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "data": [
    {
      "username": "genesis_51",
      "totalVotesReceived": "1006000000000",
      "address": "c6d076ed541ca20869a1398a9d28c645ac8a8719",
      "minActiveHeight": 27605,
      "isConsensusParticipant": true,
      "nextForgingTime": 1607521557
    },
  ],
  "meta": {
    "count": 10,
    "offset": 20,
    "total": 103
  },
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="update-forgers"><a class="anchor" href="#update-forgers"></a>update.forgers</h3>
<div class="paragraph">
<p>Updates the current forgers' list, so the current forger is in the first position.</p>
</div>
<div class="listingblock">
<div class="title">Response</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "data": [
    {
      "username": "genesis_45",
      "totalVotesReceived": "1000000000000",
      "address": "lskq847deet5ohzujm6s5t9adeotvmdo7pq4y36nz",
      "minActiveHeight": 1,
      "isConsensusParticipant": true,
      "nextForgingTime": 1622816707
    },
  ],
  "meta": {
    "count": 25,
    "offset": 0,
    "total": 103
  }
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="update-transactions"><a class="anchor" href="#update-transactions"></a>update.transactions</h3>
<div class="paragraph">
<p>Updates about transactions from the last block.</p>
</div>
<div class="listingblock">
<div class="title">Response</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-js hljs" data-lang="js">{
  "data": [
    {
      "id": "222675625422353767",
      "moduleAssetId": "2:0",
      "moduleAssetName": "token:transfer",
      "fee": "1000000",
      "nonce": "0",
      "block": {  <i class="conum" data-value="1"></i><b>(1)</b>
        "id": "6258354802676165798",
        "height": 8350681,
        "timestamp": 28227090,
      },
      "sender": {
        "address": "lsk24cd35u4jdq8szo3pnsqe5dsxwrnazyqqqg5eu",
        "publicKey": "2ca9a7...c23079",
        "username": "genesis_51",
      },
      "signatures": [ "72c9b2...36c60a" ],
      "confirmations": 0,
      "asset": {  <i class="conum" data-value="2"></i><b>(2)</b>
        "amount": "150000000",
        "recipient": {
          "address": "lsk24cd35u4jdq8szo3pnsqe5dsxwrnazyqqqg5eu",
          "publicKey": "2ca9a7...c23079",
          "username": "genesis_49",
        },
        "data": "message"
      },
      "relays": 0,
      "isPending": false
    }
  ],
  "meta": {
    "count": 100,
    "offset": 25,
    "total": 43749
  },
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Optional.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Asset depends on operation.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="update-fee_estimates"><a class="anchor" href="#update-fee_estimates"></a>update.fee_estimates</h3>
<div class="paragraph">
<p>Updates about recent fee estimates.</p>
</div>
<div class="listingblock">
<div class="title">Response</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "data": {
    "feeEstimatePerByte": {
      "low": 0,
      "medium": 0,
      "high": 0
    },
    "baseFeeById": {
      "5:0": "1000000000"
    },
    "baseFeeByName": {
      "dpos:registerDelegate": "1000000000"
    },
    "minFeePerByte": 1000
  },
  "meta": {
    "lastUpdate": 1623755357,
    "lastBlockHeight": 4996,
    "lastBlockId": "03237f191c8acd0077fc897213973c25ed086c1b5e78dccb4cc1c4dd83a00e21"
  }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
    <div class="bottom-links">
    <div>
      <a class="bottom-link" href="/documentation/lisk-service/references/rpc-api.html"><i class="icofont-double-left icofont-3x"></i>WebSocket JSON 2.0 RPC API
    </a>
    </div><div>
      <a class="bottom-link" href="/documentation/lisk-service/references/configuration.html">Lisk Service Configuration Reference<i class="icofont-double-right icofont-3x"></i>
      </a>
    </div>
  </div>






<!--{]> pagination}}-->
</article>
<aside class="article-aside hidden" role="navigation">
</aside>


<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
  </div>
</div>
<footer class="footer">
    <div class="footer__container">
        <div class="footer__copyright">
            <div class="institutional-links-2">
                <span class="institutional-links-2__item">© 2021 Lisk Foundation</span>
              <ul class="footer-links">
                <li><a class="institutional-links-2__item" href="https://lisk.com/terms-conditions" class="institutional-links-2-item">Terms & Conditions</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.com/privacy" class="institutional-links-2-item">Privacy Policy</a></li>
                <li><a class="institutional-links-2__item" href="https://lisk.com/contact" class="institutional-links-2-item">Contact</a></li>
              </ul>
            </div>
            <p class="footer__copyright-text">Lisk is a foundation registered in Zug, Switzerland
            </p>
        </div>
        <div class="footer__logo-container">
            <img src="../../_/img/lisk-logo-light.svg" class="footer__lisk-logo"/>
        </div>
        <div class="community-section">
            <p class="community-section__text">Follow Lisk on: </p>
            <div class="community-section__icons">
                <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer__icon icon-github"></a>
                <a href="https://twitter.com/LiskHQ" title="Twitter" target="_blank" class="footer__icon icon-twitter"></a>
                <a href="https://lisk.chat" title="Discord" target="_blank" class="footer__icon icon-discord"></a>
                <a href="https://www.reddit.com/r/Lisk/" title="Reddit" target="_blank" class="footer__icon icon-reddit"></a>
                <a href="https://www.facebook.com/LiskHQ" title="Facebook" target="_blank" class="footer__icon icon-facebook"></a>
            </div>
        </div>
    </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../_/js/vendor/top-versions.js"></script>
<script async src="../../_/js/vendor/custom.js"></script>
  <script src="../../_/js/vendor/docsearch.min.js"></script>
  <!-- fetched from https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js -->
  <script>
    function focusSearchInput () { document.querySelector('#search-input').focus() }
    var search = docsearch({
        appId: 'C4SU57KGV9',
      apiKey: '55aa8709b04eb62f08f87571cf77547c',
      indexName: 'lisk-docs-search',
      inputSelector: '#search-input',
      autocompleteOptions: { hint: false, keyboardShortcuts: ['s'] },
      algoliaOptions: { hitsPerPage: 10 }
    }).autocomplete
    search.on('autocomplete:closed', function () { search.autocomplete.setVal() })
    focusSearchInput()
    window.addEventListener('load', focusSearchInput)
  </script>

  </body>
</html>
