<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Network :: Lisk documentation</title>
    <link rel="canonical" href="https://lisk.com/documentation/lisk-sdk/protocol/network.html">
    <link rel="prev" href="consensus-algorithm.html">
    <link rel="next" href="appendix.html">
    <meta name="description" content="This section describes the Lisk P2P network used to exchange information such as blocks or transactions between nodes.">
    <meta name="generator" content="Antora 3.0.0">

  <link id="theme" rel="stylesheet" title="Default" href="../../_/css/site.css">
  <link rel="stylesheet" title="Dark" href="../../_/css/dark-site.css">

    <script>var uiRootPath = '../../_'</script>
    <script src="../../_/js/vendor/medium-zoom.js"></script>
    <script type="text/javascript" id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="e4db29b5-cd94-4bcf-87e4-04f4ca564240" data-blockingmode="manual"></script>

<link rel="icon" href="../../_/img/favicon.png" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="top-logo">
        <a href="" class="lisk-logo"></a>
        <a href="" class="docs-logo"></a>
      </div>
      <!--<a class="navbar-item" href="https://lisk.com/documentation">Lisk documentation</a>-->
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
      <a class="navbar-item" href="https://lisk.com/documentation/tutorial/">Tutorials</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="https://lisk.com/documentation">API</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://lisk.com/documentation">Lisk Core JSON RPC</a>
            <a class="navbar-item" href="https://lisk.com/documentation">Lisk Core HTTP API</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Explorers</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="https://lisk.observer/">Lisk Observer</a>
            <a class="navbar-item" href="https://liskscan.com/">LiskScan</a>
          </div>
        </div>
        <button onclick="switch_style('toggle')" id="theme-toggle" class="theme-toggle navbar-item"></button>
        <!-- <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div> -->
      </div>
    </div>
  </nav>
</header>
<div class="toolbar" role="navigation">
  <button class="nav-toggle"></button>
  <div class="components-versions">
      <div class="page-components">
    <button class="component-menu-toggle" title="Show other versions of page">Lisk SDK</button>
    <div class="component-menu">
        <a class="component" href="../../lisk-core/index.html">Lisk Core</a>
        <a class="component" href="../../lisk-docs-manual/index.html">Lisk docs manual</a>
        <a class="component" href="../../index.html">Lisk Documentation</a>
        <a class="component is-current" href="../index.html">Lisk SDK</a>
        <a class="component" href="../../lisk-service/index.html">Lisk Service</a>
    </div>
  </div>
    <span></span>
    <div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">5.2.1 (latest)</button>
  <div class="version-menu">
    <a class="version is-current" href="network.html">5.2.1 (latest)</a>
    <a class="version is-missing" href="../v4/index.html">4.0.0</a>
    <a class="version is-missing" href="../v3/index.html">3.0.2</a>
  </div>
</div>
  </div>
  <span></span>
  <span></span>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Lisk SDK</a></li>
    <li>Lisk protocol</li>
    <li><a href="network.html">Network</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/LiskHQ/lisk-docs/edit/1405-new-sdk-docs/modules/protocol/pages/network.adoc"><img class="pencil">Edit this Page</a></div>
  </div>
<div class="body">
<div class="nav-container" data-component="lisk-sdk" data-version="master">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">Lisk SDK</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Lisk SDK</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../get-started.html">Getting started</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../application-cli.html">Application CLI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../config.html">Application Configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../actions.html">Actions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../events.html">Events</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Modules</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/index.html">Modules overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/dpos-module.html">DPoS module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/keys-module.html">Keys module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/sequence-module.html">Sequence module</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../modules/token-module.html">Token module</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Plugins</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/index.html">Plugins overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/dashboard-plugin.html">Dashboard plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/faucet-plugin.html">Faucet plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/forger-plugin.html">Forger plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/http-api-plugin.html">HTTP API plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/monitor-plugin.html">Monitor plugin</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../plugins/report-misbehavior-plugin.html">Report misbehavior plugin</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">References</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../references/framework-class-interfaces.html">Framework class interfaces</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../references/test-utils.html">The Lisk SDK testing utilities</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk Commander</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../references/lisk-commander/index.html">What is Lisk Commander?</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../references/lisk-commander/commands.html">Commands</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../references/lisk-commander/sensitive-inputs.html">Sensitive inputs</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk Elements</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../references/lisk-elements/index.html">What is Lisk Elements?</a>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Frontend</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/client.html">Client</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="3">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Backend</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/api-client.html">API client</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/bft.html">BFT</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/chain.html">Chain</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/codec.html">Codec</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/cryptography.html">Cryptography</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/db.html">DB</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/genesis.html">Genesis</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/p2p.html">P2P</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/passphrase.html">Passphrase</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/transaction-pool.html">Transaction pool</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/transactions.html">Transactions</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/tree.html">Tree</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/utils.html">Utils</a>
  </li>
  <li class="nav-item" data-depth="4">
    <a class="nav-link" href="../references/lisk-elements/validator.html">Validator</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="#glossary.adoc">glossary.adoc</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Lisk protocol</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="index.html">What is the Lisk protocol?</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="accounts.html">Accounts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="transactions.html">Transactions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="blocks.html">Blocks</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="consensus-algorithm.html">Consensus algorithm</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="network.html">Network</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="appendix.html">Appendix</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Lisk SDK</span>
    <span class="version">5.2.1 (latest)</span>
  </div>
  <ul class="components">
    <li class="component">
      <a class="title" href="../../lisk-core/index.html">Lisk Core</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-core/index.html">3.0.3 (latest)</a>
        </li>
        <li class="version">
          <a href="../../lisk-core/v2/index.html">2.1.7</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../lisk-docs-manual/index.html">Lisk docs manual</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-docs-manual/index.html">0.1.0</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../index.html">Lisk Documentation</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../index.html">default</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <a class="title" href="../index.html">Lisk SDK</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">5.2.1 (latest)</a>
        </li>
        <li class="version">
          <a href="../v4/index.html">4.0.0</a>
        </li>
        <li class="version">
          <a href="../v3/index.html">3.0.2</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <a class="title" href="../../lisk-service/index.html">Lisk Service</a>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../lisk-service/index.html">0.5.0 (latest)</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Network</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Lisk nodes connect to each other in a random manner, thereby forming an unstructured P2P network where information is exchanged using a gossip-based protocol.
In this way nodes can synchronize their local copies of the blockchain, by broadcasting blocks and new transactions to be stored in the transaction pool.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lisk-p2p-architecture"><a class="anchor" href="#lisk-p2p-architecture"></a>Lisk P2P architecture</h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="_images/p2p.svg" alt="LiskP2P2" width="262" height="320">
</div>
</div>
<div class="paragraph">
<p>Connections in the <a href="https://github.com/LiskHQ/lips/blob/master/proposals/lip-0004.md"><strong>Lisk P2P protocol</strong></a> are established as <em>websockets</em> (see <a href="https://en.wikipedia.org/wiki/WebSocket">Wikipedia page</a>) using the <a href="https://socketcluster.io/#!/"><em>SocketCluster</em></a> framework.
Each node retains a list of known peers and their IP addresses and initializes up to 20 outgoing connections to randomly selected peers, while accepting up to 100 incoming connections.</p>
</div>
<div class="paragraph">
<p>When an outgoing connection is dropped, the node starts a new connection with another peer.
Furthermore, to keep the network dynamic, approximately every 5 minutes one outgoing connection is dropped and replaced with a new one.</p>
</div>
<div class="paragraph">
<p>The <em>Lisk RPC and Events</em> layer lies on top of SocketCluster.
This layer manages interactions between nodes using Remote Procedural Calls (see <a href="https://en.wikipedia.org/wiki/Remote_procedure_call">Wikipedia page</a>).</p>
</div>
<div class="paragraph">
<p>Finally, the <em>Lisk application</em> layer provides a high level interface to interact with the blockchain.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="block-propagation"><a class="anchor" href="#block-propagation"></a>Block propagation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Nodes propagate newly received blocks in order to keep the network synchronized and to achieve <a href="consensus-algorithm.html" class="xref page">consensus</a>.
When a new block is received, it is first validated.
If it is valid and it has not been forwarded before, the full block is sent to 16 randomly chosen peers.
Furthermore, nodes announce that a new block has been received by sending part of the block header to the rest of the connected peers, which can request the full block in case it has not been received yet.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="transaction-propagation"><a class="anchor" href="#transaction-propagation"></a>Transaction propagation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Transactions are propagated through the network in a similar manner to blocks.
Every 5 seconds, a bundle of 100 <a href="transactions.html#id" class="xref page">transaction IDs</a> are selected from the transaction pool and sent to all connected peers.
The peers then check if they already have the corresponding transactions and can request any that are missing from the node and include them in their transaction pool.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pool"><a class="anchor" href="#pool"></a>Transaction pool</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The transaction pool collects transactions that are waiting to be included in a block.
When forging a new block, a delegate selects a set of transactions from the pool and includes them in the <a href="blocks.html#payload" class="xref page">block payload</a>.
Conversely, when a new block is received, transactions included in the block are removed from the transaction pool.</p>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="consensus-algorithm.html">Consensus algorithm</a></span>
  <span class="next"><a href="appendix.html">Appendix</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>© 2022 Lisk Foundation</p>
  <!-- <div class="community-section">
    <p class="community-section__text">Follow Lisk on: </p>
    <div class="community-section__icons"> -->
  <div class="community_icons">
      <a href="https://lisk.chat" title="Discord" target="_blank" class="footer_icon icon-discord"><p>Discord</p></a>
      <a href="https://dev.lisk.com" title="Discourse" target="_blank" class="footer_icon icon-discourse"><p>Discourse</p></a>
      <a href="https://github.com/LiskHQ" title="GitHub" target="_blank" class="footer_icon icon-github"><p>GitHub</p></a>
<!--    </div> -->
  </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/tabs-block-behaviour.js"></script>
<script async src="../../_/js/vendor/component-versions.js"></script>
<script src="../../_/js/vendor/custom.js"></script>
  </body>
</html>
