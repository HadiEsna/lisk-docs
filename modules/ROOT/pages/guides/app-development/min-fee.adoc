= Calculating the minimum fee for a transaction
:toc:
:sectnums:

== Create & sign the transaction

[source,js]
----
const { id, ...rest } = transactions.signTransaction(
    assetSchema,
    {
        moduleID: 1024,
        assetID: 0,
        nonce: BigInt(nonce),
        fee: BigInt(transactions.convertLSKToBeddows(fee)),
        senderPublicKey: publicKey,
        asset: {
            name,
            initValue: BigInt(transactions.convertLSKToBeddows(initValue)),
            minPurchaseMargin: parseInt(minPurchaseMargin),
        },
    },
    Buffer.from(networkIdentifier, "hex"),
    passphrase
);
----

== Calculate minimumFee

[source,js]
----
export const calcMinTxFee = (assetSchema, minFeePerByte, tx) => {
	const assetBytes = codec.encode(assetSchema, tx.asset);
	const bytes = codec.encode(baseAssetSchema, { ...tx, asset: assetBytes });
	return BigInt(bytes.length * minFeePerByte);
};
----

[source,js]
----
import {transactions} from "@liskhq/lisk-client";

const minFee = transactions.computeMinFee(schema, {
  moduleID: options.moduleID,
  assetID: options.assetID,
  nonce: BigInt(nonce),
  fee: BigInt(transactions.convertLSKToBeddows(options.fee.toString())),
  senderPublicKey: publicKey,
  asset: options.asset
});
----


== Recreate transaction with minimumFee